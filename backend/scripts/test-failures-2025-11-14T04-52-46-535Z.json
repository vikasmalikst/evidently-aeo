{
  "timestamp": "2025-11-14T04:50:10.249Z",
  "testRunId": "test-1763095810249",
  "failures": [
    {
      "testCategory": "brandIntel",
      "testMessage": "Industry is relevant: General (expected: Sportswear)",
      "failureReason": "Expected: Sportswear, Got: General",
      "expected": "Sportswear",
      "actual": "General",
      "context": {
        "testBrand": "Nike",
        "industryMatch": false,
        "isGeneral": true
      },
      "timestamp": "2025-11-14T04:50:11.857Z",
      "stackTrace": null
    },
    {
      "testCategory": "brandIntel",
      "testMessage": "Industry is relevant: General (expected: Technology)",
      "failureReason": "Expected: Technology, Got: General",
      "expected": "Technology",
      "actual": "General",
      "context": {
        "testBrand": "Apple",
        "industryMatch": false,
        "isGeneral": true
      },
      "timestamp": "2025-11-14T04:50:12.981Z",
      "stackTrace": null
    },
    {
      "testCategory": "brandIntel",
      "testMessage": "Industry is relevant: General (expected: Automotive)",
      "failureReason": "Expected: Automotive, Got: General",
      "expected": "Automotive",
      "actual": "General",
      "context": {
        "testBrand": "Tesla",
        "industryMatch": false,
        "isGeneral": true
      },
      "timestamp": "2025-11-14T04:50:14.006Z",
      "stackTrace": null
    },
    {
      "testCategory": "brandIntel",
      "testMessage": "Industry is relevant: General (expected: Food & Beverage)",
      "failureReason": "Expected: Food & Beverage, Got: General",
      "expected": "Food & Beverage",
      "actual": "General",
      "context": {
        "testBrand": "Starbucks",
        "industryMatch": false,
        "isGeneral": true
      },
      "timestamp": "2025-11-14T04:50:15.049Z",
      "stackTrace": null
    },
    {
      "testCategory": "competitors",
      "testMessage": "At least 3 competitors in same/related industry: 0",
      "failureReason": "Expected: At least 3 industry-relevant competitors, Got: 0 industry-relevant competitors",
      "expected": "At least 3 industry-relevant competitors",
      "actual": "0 industry-relevant competitors",
      "context": {
        "testBrand": "Nike",
        "expectedIndustry": "Sportswear",
        "industryRelevantCount": 0,
        "industryRelevantCompetitors": [],
        "allCompetitorIndustries": [
          "Apparel & Footwear",
          "Apparel & Footwear",
          "Apparel & Footwear",
          "Apparel & Footwear",
          "Apparel & Footwear",
          "Apparel & Footwear"
        ]
      },
      "timestamp": "2025-11-14T04:50:16.670Z",
      "stackTrace": null
    },
    {
      "testCategory": "competitors",
      "testMessage": "At least 3 competitors in same/related industry: 1",
      "failureReason": "Expected: At least 3 industry-relevant competitors, Got: 1 industry-relevant competitors",
      "expected": "At least 3 industry-relevant competitors",
      "actual": "1 industry-relevant competitors",
      "context": {
        "testBrand": "Apple",
        "expectedIndustry": "Technology",
        "industryRelevantCount": 1,
        "industryRelevantCompetitors": [
          {
            "name": "Google",
            "industry": "Technology, Internet Services, Consumer Electronics"
          }
        ],
        "allCompetitorIndustries": [
          "Consumer Electronics, Semiconductors, Displays",
          "Technology, Internet Services, Consumer Electronics",
          "Software, Cloud Computing, Personal Computing",
          "E-commerce, Cloud Computing, Consumer Electronics",
          "Consumer Electronics, Entertainment, Gaming",
          "Personal Computing, Enterprise Solutions",
          "Personal Computing, Printing"
        ]
      },
      "timestamp": "2025-11-14T04:50:19.367Z",
      "stackTrace": null
    },
    {
      "testCategory": "competitors",
      "testMessage": "At least 5 competitors returned: 1",
      "failureReason": "Expected: At least 5 competitors, Got: 1 competitors",
      "expected": "At least 5 competitors",
      "actual": "1 competitors",
      "context": {
        "testBrand": "Starbucks",
        "competitorCount": 1,
        "competitors": [
          "Dunkin'"
        ]
      },
      "timestamp": "2025-11-14T04:50:23.843Z",
      "stackTrace": null
    },
    {
      "testCategory": "competitors",
      "testMessage": "At least 3 competitors in same/related industry: 0",
      "failureReason": "Expected: At least 3 industry-relevant competitors, Got: 0 industry-relevant competitors",
      "expected": "At least 3 industry-relevant competitors",
      "actual": "0 industry-relevant competitors",
      "context": {
        "testBrand": "Starbucks",
        "expectedIndustry": "Food & Beverage",
        "industryRelevantCount": 0,
        "industryRelevantCompetitors": [],
        "allCompetitorIndustries": [
          "Coffee & Quick Service Restaurant"
        ]
      },
      "timestamp": "2025-11-14T04:50:23.844Z",
      "stackTrace": null
    },
    {
      "testCategory": "topics",
      "testMessage": "At least 8 topics are keyword-like (not prompts): 6",
      "failureReason": "Expected: At least 8 keyword-like topics, Got: 6 keyword-like topics",
      "expected": "At least 8 keyword-like topics",
      "actual": "6 keyword-like topics",
      "context": {
        "testBrand": "Nike",
        "keywordLikeCount": 6,
        "keywordLikeTopics": [
          "Nike running shoes best",
          "Nike promo code current",
          "Nike Dri-FIT benefits",
          "Nike customer service chat",
          "Product features",
          "Customer testimonials"
        ],
        "promptLikeTopics": [
          "What are the latest Nike sneaker releases everyone is talking about?",
          "Explain the benefits of Nike React foam in athletic shoes.",
          "Tell me about Nike's recent environmental initiatives and goals.",
          "Which Nike Tech Fleece product is most popular right now?",
          "What are the key differences between Nike Air Max and Zoom Air cushioning?",
          "How do Nike running shoes compare to Adidas for marathon training?",
          "Are there any good alternatives to Nike tracksuits from brands like Under Armour?",
          "How does Nike's sizing generally compare to Puma's for sneakers?",
          "Where can I find authentic Nike promo codes for my next purchase?",
          "What is the process for returning Nike items purchased from their website?",
          "What is Nike's policy on price adjustments for recent purchases?"
        ]
      },
      "timestamp": "2025-11-14T04:50:52.036Z",
      "stackTrace": null
    },
    {
      "testCategory": "topics",
      "testMessage": "Few topics are prompt-like (max 2): 11",
      "failureReason": "Expected: Maximum 2 prompt-like topics, Got: 11 prompt-like topics",
      "expected": "Maximum 2 prompt-like topics",
      "actual": "11 prompt-like topics",
      "context": {
        "testBrand": "Nike",
        "promptLikeCount": 11,
        "promptLikeTopics": [
          "What are the latest Nike sneaker releases everyone is talking about?",
          "Explain the benefits of Nike React foam in athletic shoes.",
          "Tell me about Nike's recent environmental initiatives and goals.",
          "Which Nike Tech Fleece product is most popular right now?",
          "What are the key differences between Nike Air Max and Zoom Air cushioning?",
          "How do Nike running shoes compare to Adidas for marathon training?",
          "Are there any good alternatives to Nike tracksuits from brands like Under Armour?",
          "How does Nike's sizing generally compare to Puma's for sneakers?",
          "Where can I find authentic Nike promo codes for my next purchase?",
          "What is the process for returning Nike items purchased from their website?",
          "What is Nike's policy on price adjustments for recent purchases?"
        ]
      },
      "timestamp": "2025-11-14T04:50:52.036Z",
      "stackTrace": null
    },
    {
      "testCategory": "topics",
      "testMessage": "At least 8 topics are keyword-like (not prompts): 7",
      "failureReason": "Expected: At least 8 keyword-like topics, Got: 7 keyword-like topics",
      "expected": "At least 8 keyword-like topics",
      "actual": "7 keyword-like topics",
      "context": {
        "testBrand": "Apple",
        "keywordLikeCount": 7,
        "keywordLikeTopics": [
          "iPhone 16 rumors",
          "Apple Vision Pro review",
          "iOS 18 features",
          "Apple Watch Series 9",
          "Apple Music cost",
          "Product features",
          "Customer testimonials"
        ],
        "promptLikeTopics": [
          "What are the most anticipated features in iOS 18?",
          "What's the latest news on Apple's generative AI efforts?",
          "Explain the new privacy features introduced in macOS Sonoma.",
          "What are the benefits of Apple Arcade subscription?",
          "When is the next Apple event scheduled?",
          "How does Apple Vision Pro compare to other VR headsets?",
          "What are the best alternatives to Apple Music streaming service?",
          "How much does an iPhone 15 Pro Max cost with carrier deals?",
          "Should I upgrade from an iPhone 14 to an iPhone 15?",
          "How do I troubleshoot Wi-Fi connectivity issues on my MacBook?"
        ]
      },
      "timestamp": "2025-11-14T04:51:16.579Z",
      "stackTrace": null
    },
    {
      "testCategory": "topics",
      "testMessage": "Few topics are prompt-like (max 2): 10",
      "failureReason": "Expected: Maximum 2 prompt-like topics, Got: 10 prompt-like topics",
      "expected": "Maximum 2 prompt-like topics",
      "actual": "10 prompt-like topics",
      "context": {
        "testBrand": "Apple",
        "promptLikeCount": 10,
        "promptLikeTopics": [
          "What are the most anticipated features in iOS 18?",
          "What's the latest news on Apple's generative AI efforts?",
          "Explain the new privacy features introduced in macOS Sonoma.",
          "What are the benefits of Apple Arcade subscription?",
          "When is the next Apple event scheduled?",
          "How does Apple Vision Pro compare to other VR headsets?",
          "What are the best alternatives to Apple Music streaming service?",
          "How much does an iPhone 15 Pro Max cost with carrier deals?",
          "Should I upgrade from an iPhone 14 to an iPhone 15?",
          "How do I troubleshoot Wi-Fi connectivity issues on my MacBook?"
        ]
      },
      "timestamp": "2025-11-14T04:51:16.579Z",
      "stackTrace": null
    },
    {
      "testCategory": "prompts",
      "testMessage": "Error testing prompts for Nike",
      "failureReason": "Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint",
      "expected": "Successful prompt generation",
      "actual": "Error: Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint",
      "context": {
        "testBrand": "Nike",
        "errorType": "Error"
      },
      "timestamp": "2025-11-14T04:51:45.756Z",
      "stackTrace": "Error: Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint\n    at QueryGenerationService.generateSeedQueries (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\dist\\services\\query-generation.service.js:198:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testPromptGeneration (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\scripts\\test-onboarding-setup-complete.js:736:30)\n    at async runAllTests (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\scripts\\test-onboarding-setup-complete.js:1243:5)"
    },
    {
      "testCategory": "prompts",
      "testMessage": "Error testing prompts for Apple",
      "failureReason": "Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint",
      "expected": "Successful prompt generation",
      "actual": "Error: Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint",
      "context": {
        "testBrand": "Apple",
        "errorType": "Error"
      },
      "timestamp": "2025-11-14T04:52:16.374Z",
      "stackTrace": "Error: Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint\n    at QueryGenerationService.generateSeedQueries (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\dist\\services\\query-generation.service.js:198:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testPromptGeneration (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\scripts\\test-onboarding-setup-complete.js:736:30)\n    at async runAllTests (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\scripts\\test-onboarding-setup-complete.js:1243:5)"
    },
    {
      "testCategory": "integration",
      "testMessage": "Error in end-to-end test for Nike",
      "failureReason": "Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint",
      "expected": "Successful end-to-end flow",
      "actual": "Error: Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint",
      "context": {
        "testBrand": "Nike",
        "errorType": "Error"
      },
      "timestamp": "2025-11-14T04:52:46.534Z",
      "stackTrace": "Error: Query generation failed: Failed to create brand: null value in column \"customer_id\" of relation \"brands\" violates not-null constraint\n    at QueryGenerationService.generateSeedQueries (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\dist\\services\\query-generation.service.js:198:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async testEndToEndIntegration (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\scripts\\test-onboarding-setup-complete.js:1018:28)\n    at async runAllTests (C:\\Users\\rakit\\OneDrive\\Documents\\GitHub\\evidently\\backend\\scripts\\test-onboarding-setup-complete.js:1244:5)"
    }
  ],
  "summary": {
    "totalTests": 179,
    "totalPassed": 164,
    "totalFailed": 15,
    "categories": {
      "brandIntel": {
        "passed": 32,
        "failed": 4,
        "total": 36,
        "passRate": 89
      },
      "competitors": {
        "passed": 123,
        "failed": 4,
        "total": 127,
        "passRate": 97
      },
      "topics": {
        "passed": 6,
        "failed": 4,
        "total": 10,
        "passRate": 60
      },
      "prompts": {
        "passed": 0,
        "failed": 2,
        "total": 2,
        "passRate": 0
      },
      "integration": {
        "passed": 3,
        "failed": 1,
        "total": 4,
        "passRate": 75
      }
    },
    "overallPassRate": 92
  }
}